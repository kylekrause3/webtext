<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>windmill</title>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div id="canvas"></div>
</body>
</html>

<script>
const canvas = document.getElementById('canvas');

const CANVAS_WIDTH  = 80
const CANVAS_HEIGHT = 20
const BACKGROUND_CHAR = ' '

for(let i = 0; i < CANVAS_HEIGHT; i++){
    const textDisplay = document.createElement('div');
    for(let j = 0; j < CANVAS_WIDTH; j++){
        const charSpan = document.createElement('span');
        charSpan.textContent = BACKGROUND_CHAR;
        textDisplay.appendChild(charSpan);
    }

    canvas.appendChild(textDisplay);
}

function setCharacter(lineIndex, charIndex, char) {
    const chardiv = canvas.children[lineIndex].children[charIndex]
    if(chardiv){
        chardiv.textContent = char
    }
}
let x = CANVAS_WIDTH / 2
let y = CANVAS_HEIGHT / 2
let horiz_fac = 1
let vert_fac = 1
function update() {
    setCharacter(y, x, BACKGROUND_CHAR);
    if(y + vert_fac >= CANVAS_HEIGHT || y + vert_fac < 0){
        vert_fac *= -1
    }
    if(x + horiz_fac >= CANVAS_WIDTH || x + horiz_fac <= 0){
        horiz_fac *= -1
    }
    y += vert_fac;
    x += horiz_fac;
    setCharacter(y, x, 'o');

    requestAnimationFrame(update);
}

requestAnimationFrame(update);

</script>

<style>
#canvas{
    width: fit-content;
    border: 1px solid black;
    font-family: monospace;
    font-size: large;
    white-space: pre;
}
</style>

